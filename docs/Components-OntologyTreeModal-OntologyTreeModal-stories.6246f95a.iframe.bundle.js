"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[9471],{"../packages/ui/node_modules/uuid/dist/esm-browser/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NIL:()=>nil,parse:()=>esm_browser_parse,stringify:()=>esm_browser_stringify,v1:()=>esm_browser_v1,v3:()=>esm_browser_v3,v4:()=>esm_browser_v4,v5:()=>esm_browser_v5,validate:()=>esm_browser_validate,version:()=>esm_browser_version});var getRandomValues,_nodeId,_clockseq,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}let regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,esm_browser_validate=function validate(uuid){return"string"==typeof uuid&&regex.test(uuid)};for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));let esm_browser_stringify=function stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!esm_browser_validate(uuid))throw TypeError("Stringified UUID is invalid");return uuid};var _lastMSecs=0,_lastNSecs=0;let esm_browser_v1=function v1(options,buf,offset){var i=buf&&offset||0,b=buf||Array(16),node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=options.random||(options.rng||rng)();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=(seedBytes[6]<<8|seedBytes[7])&16383)}var msecs=void 0!==options.msecs?options.msecs:Date.now(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=((0xfffffff&(msecs+=122192928e5))*1e4+nsecs)%0x100000000;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/0x100000000*1e4&0xfffffff;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||esm_browser_stringify(b)},esm_browser_parse=function parse(uuid){if(!esm_browser_validate(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/0x10000000000&255,arr[11]=v/0x100000000&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=stringToBytes(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return esm_browser_stringify(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function md5ToHexEncodedArray(input){for(var output=[],length32=32*input.length,hexTab="0123456789abcdef",i=0;i<length32;i+=8){var x=input[i>>5]>>>i%32&255,hex=parseInt(hexTab.charAt(x>>>4&15)+hexTab.charAt(15&x),16);output.push(hex)}return output}function getOutputLength(inputLength8){return(inputLength8+64>>>9<<4)+14+1}function wordsToMd5(x,len){x[len>>5]|=128<<len%32,x[getOutputLength(len)-1]=len;for(var a=0x67452301,b=-0x10325477,c=-0x67452302,d=0x10325476,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5ff(a,b,c,d,x[i],7,-0x28955b88),d=md5ff(d,a,b,c,x[i+1],12,-0x173848aa),c=md5ff(c,d,a,b,x[i+2],17,0x242070db),b=md5ff(b,c,d,a,x[i+3],22,-0x3e423112),a=md5ff(a,b,c,d,x[i+4],7,-0xa83f051),d=md5ff(d,a,b,c,x[i+5],12,0x4787c62a),c=md5ff(c,d,a,b,x[i+6],17,-0x57cfb9ed),b=md5ff(b,c,d,a,x[i+7],22,-0x2b96aff),a=md5ff(a,b,c,d,x[i+8],7,0x698098d8),d=md5ff(d,a,b,c,x[i+9],12,-0x74bb0851),c=md5ff(c,d,a,b,x[i+10],17,-42063),b=md5ff(b,c,d,a,x[i+11],22,-0x76a32842),a=md5ff(a,b,c,d,x[i+12],7,0x6b901122),d=md5ff(d,a,b,c,x[i+13],12,-0x2678e6d),c=md5ff(c,d,a,b,x[i+14],17,-0x5986bc72),b=md5ff(b,c,d,a,x[i+15],22,0x49b40821),a=md5gg(a,b,c,d,x[i+1],5,-0x9e1da9e),d=md5gg(d,a,b,c,x[i+6],9,-0x3fbf4cc0),c=md5gg(c,d,a,b,x[i+11],14,0x265e5a51),b=md5gg(b,c,d,a,x[i],20,-0x16493856),a=md5gg(a,b,c,d,x[i+5],5,-0x29d0efa3),d=md5gg(d,a,b,c,x[i+10],9,0x2441453),c=md5gg(c,d,a,b,x[i+15],14,-0x275e197f),b=md5gg(b,c,d,a,x[i+4],20,-0x182c0438),a=md5gg(a,b,c,d,x[i+9],5,0x21e1cde6),d=md5gg(d,a,b,c,x[i+14],9,-0x3cc8f82a),c=md5gg(c,d,a,b,x[i+3],14,-0xb2af279),b=md5gg(b,c,d,a,x[i+8],20,0x455a14ed),a=md5gg(a,b,c,d,x[i+13],5,-0x561c16fb),d=md5gg(d,a,b,c,x[i+2],9,-0x3105c08),c=md5gg(c,d,a,b,x[i+7],14,0x676f02d9),b=md5gg(b,c,d,a,x[i+12],20,-0x72d5b376),a=md5hh(a,b,c,d,x[i+5],4,-378558),d=md5hh(d,a,b,c,x[i+8],11,-0x788e097f),c=md5hh(c,d,a,b,x[i+11],16,0x6d9d6122),b=md5hh(b,c,d,a,x[i+14],23,-0x21ac7f4),a=md5hh(a,b,c,d,x[i+1],4,-0x5b4115bc),d=md5hh(d,a,b,c,x[i+4],11,0x4bdecfa9),c=md5hh(c,d,a,b,x[i+7],16,-0x944b4a0),b=md5hh(b,c,d,a,x[i+10],23,-0x41404390),a=md5hh(a,b,c,d,x[i+13],4,0x289b7ec6),d=md5hh(d,a,b,c,x[i],11,-0x155ed806),c=md5hh(c,d,a,b,x[i+3],16,-0x2b10cf7b),b=md5hh(b,c,d,a,x[i+6],23,0x4881d05),a=md5hh(a,b,c,d,x[i+9],4,-0x262b2fc7),d=md5hh(d,a,b,c,x[i+12],11,-0x1924661b),c=md5hh(c,d,a,b,x[i+15],16,0x1fa27cf8),b=md5hh(b,c,d,a,x[i+2],23,-0x3b53a99b),a=md5ii(a,b,c,d,x[i],6,-0xbd6ddbc),d=md5ii(d,a,b,c,x[i+7],10,0x432aff97),c=md5ii(c,d,a,b,x[i+14],15,-0x546bdc59),b=md5ii(b,c,d,a,x[i+5],21,-0x36c5fc7),a=md5ii(a,b,c,d,x[i+12],6,0x655b59c3),d=md5ii(d,a,b,c,x[i+3],10,-0x70f3336e),c=md5ii(c,d,a,b,x[i+10],15,-1051523),b=md5ii(b,c,d,a,x[i+1],21,-0x7a7ba22f),a=md5ii(a,b,c,d,x[i+8],6,0x6fa87e4f),d=md5ii(d,a,b,c,x[i+15],10,-0x1d31920),c=md5ii(c,d,a,b,x[i+6],15,-0x5cfebcec),b=md5ii(b,c,d,a,x[i+13],21,0x4e0811a1),a=md5ii(a,b,c,d,x[i+4],6,-0x8ac817e),d=md5ii(d,a,b,c,x[i+11],10,-0x42c50dcb),c=md5ii(c,d,a,b,x[i+2],15,0x2ad7d2bb),b=md5ii(b,c,d,a,x[i+9],21,-0x14792c6f),a=safeAdd(a,olda),b=safeAdd(b,oldb),c=safeAdd(c,oldc),d=safeAdd(d,oldd)}return[a,b,c,d]}function bytesToWords(input){if(0===input.length)return[];for(var length8=8*input.length,output=new Uint32Array(getOutputLength(length8)),i=0;i<length8;i+=8)output[i>>5]|=(255&input[i/8])<<i%32;return output}function safeAdd(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function bitRotateLeft(num,cnt){return num<<cnt|num>>>32-cnt}function md5cmn(q,a,b,x,s,t){return safeAdd(bitRotateLeft(safeAdd(safeAdd(a,q),safeAdd(x,t)),s),b)}function md5ff(a,b,c,d,x,s,t){return md5cmn(b&c|~b&d,a,b,x,s,t)}function md5gg(a,b,c,d,x,s,t){return md5cmn(b&d|c&~d,a,b,x,s,t)}function md5hh(a,b,c,d,x,s,t){return md5cmn(b^c^d,a,b,x,s,t)}function md5ii(a,b,c,d,x,s,t){return md5cmn(c^(b|~d),a,b,x,s,t)}let esm_browser_v3=v35("v3",48,function md5(bytes){if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=new Uint8Array(msg.length);for(var i=0;i<msg.length;++i)bytes[i]=msg.charCodeAt(i)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes),8*bytes.length))}),esm_browser_v4=function v4(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}let esm_browser_v5=v35("v5",80,function sha1(bytes){var K=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],H=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var N=Math.ceil((bytes.length/4+2)/16),M=Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=(bytes.length-1)*8/0x100000000,M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=(bytes.length-1)*8&0xffffffff;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}),nil="00000000-0000-0000-0000-000000000000",esm_browser_version=function version(uuid){if(!esm_browser_validate(uuid))throw TypeError("Invalid UUID");return parseInt(uuid.substr(14,1),16)}},"./stories/Components/OntologyTreeModal/OntologyTreeModal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OntologyTreeModalLoadingStory:()=>OntologyTreeModalLoadingStory,OntologyTreeModalStory:()=>OntologyTreeModalStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/index.js"),_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1___default=/*#__PURE__*/__webpack_require__.n(_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1__),sqon={content:[{content:{field:"mondo.name",index:"participant",remoteComponent:{id:"mondoTree",props:{field:"mondo",visible:!0}},value:[]},op:"in"}],op:"and"},MOCK_API=[{doc_count:7175,filter_by_term:{doc_count:539},key:"Phenotypic abnormality (HP:0000118)",top_hits:{parents:["All (HP:0000001)"]}},{doc_count:277,filter_by_term:{doc_count:18},key:"Abnormal heart valve morphology (HP:0001654)",top_hits:{parents:["Abnormal heart morphology (HP:0001627)"]}},{doc_count:7175,filter_by_term:{doc_count:0},key:"All (HP:0000001)",top_hits:{parents:[]}},{doc_count:4413,filter_by_term:{doc_count:308},key:"Abnormality of the nervous system (HP:0000707)",top_hits:{parents:["Phenotypic abnormality (HP:0000118)"]}},{doc_count:4293,filter_by_term:{doc_count:253},key:"Abnormality of the cardiovascular system (HP:0001626)",top_hits:{parents:["Phenotypic abnormality (HP:0000118)"]}},{doc_count:4353,filter_by_term:{doc_count:0},key:"Abnormal nervous system physiology (HP:0012638)",top_hits:{parents:["Abnormality of the nervous system (HP:0000707)"]}},{doc_count:3729,filter_by_term:{doc_count:202},key:"Abnormality of cardiovascular system morphology (HP:0030680)",top_hits:{parents:["Abnormality of the cardiovascular system (HP:0001626)"]}},{doc_count:3556,filter_by_term:{doc_count:985},key:"Abnormal heart morphology (HP:0001627)",top_hits:{parents:["Abnormality of cardiovascular system morphology (HP:0030680)"]}}];let __WEBPACK_DEFAULT_EXPORT__={title:"@ferlab/Components/OntologyTreeModal",component:_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1___default(),decorators:[function(Story){return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,Story),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))}]};var OntologyTreeModalStory=function(){return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,"OntologyTreeModal Story"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1___default(),{field:"observed_phenotype",sqon:sqon,open:!0,data:MOCK_API,loading:!1,handleCancel:function(){return console.log("handleCancel")},handleOnApply:function(){return console.log("handleOnApply")}})))},OntologyTreeModalLoadingStory=function(){return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,"OntologyTreeModal Loading Story"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ferlab_ui_core_components_OntologyTreeFilter__WEBPACK_IMPORTED_MODULE_1___default(),{field:"observed_phenotype",open:!0,data:[],sqon:sqon,loading:!0,handleCancel:function(){return console.log("handleCancel")},handleOnApply:function(){return console.log("handleOnApply")}})))};OntologyTreeModalStory.parameters={...OntologyTreeModalStory.parameters,docs:{...OntologyTreeModalStory.parameters?.docs,source:{originalSource:"() => <>\n  <h3>OntologyTreeModal Story</h3>\n  <div>\n    <OntologyTreeModal field=\"observed_phenotype\" sqon={sqon} open={true} data={MOCK_API} loading={false} handleCancel={() => console.log('handleCancel')} handleOnApply={() => console.log('handleOnApply')} />\n  </div>\n  </>",...OntologyTreeModalStory.parameters?.docs?.source}}},OntologyTreeModalLoadingStory.parameters={...OntologyTreeModalLoadingStory.parameters,docs:{...OntologyTreeModalLoadingStory.parameters?.docs,source:{originalSource:"() => <>\n  <h3>OntologyTreeModal Loading Story</h3>\n  <div>\n    <OntologyTreeModal field=\"observed_phenotype\" open={true} data={[]} sqon={sqon} loading={true} handleCancel={() => console.log('handleCancel')} handleOnApply={() => console.log('handleOnApply')} />\n  </div>\n  </>",...OntologyTreeModalLoadingStory.parameters?.docs?.source}}};let __namedExportsOrder=["OntologyTreeModalStory","OntologyTreeModalLoadingStory"]},"./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!../packages/ui/core/components/OntologyTreeFilter/index.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/sourceMaps.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,`.My8KFbIaDWL6dbZehy13 div[class$=transfer-list] {
  flex: 1 1 50%;
  width: auto;
  height: auto;
  min-height: 600px;
}
.My8KFbIaDWL6dbZehy13 div[class$=transfer-list] .D161tNWnd3j6w2apZ6Ar {
  background-color: yellow;
  display: inherit;
}
.My8KFbIaDWL6dbZehy13 div[class$=transfer-list] div[class$=-list-body-customize-wrapper] {
  height: 100%;
}
.My8KFbIaDWL6dbZehy13 div[class$=transfer-list] div[class$=-list-body-customize-wrapper] div[class^=ant-spin-] {
  height: 100%;
}
.My8KFbIaDWL6dbZehy13 div[class$=transfer-list]:last-child div[class$=-list-body-search-wrapper] {
  display: none;
}
.My8KFbIaDWL6dbZehy13 li[class$=-list-content-item] span[class$=-list-content-item-text] {
  flex: unset;
}
.My8KFbIaDWL6dbZehy13 li[class$=-list-content-item] span[class$=-list-content-item-text]:before {
  content: "";
  display: block;
}
.My8KFbIaDWL6dbZehy13 li[class$=-list-content-item] div[class$=-list-content-item-remove] {
  color: var(--gray-8);
}
.My8KFbIaDWL6dbZehy13 .ant-tree-list-holder-inner {
  display: block !important;
}
.My8KFbIaDWL6dbZehy13 .ant-tree-treenode {
  width: 100%;
}
.My8KFbIaDWL6dbZehy13 .ant-tree-node-content-wrapper {
  width: 100%;
  display: block;
}
.My8KFbIaDWL6dbZehy13 .ant-tree-title {
  display: block;
  width: 100%;
}
.My8KFbIaDWL6dbZehy13 .SLDiyQLdmejlFGOc05cu {
  min-width: 100px;
}
.My8KFbIaDWL6dbZehy13 .SLDiyQLdmejlFGOc05cu .Tu0A8bb2BA5GdaOLMwn8 {
  display: flex;
  justify-content: center;
}
.My8KFbIaDWL6dbZehy13 .uQsmT5KF29BkVL1nllXR {
  padding-right: 4px;
  margin-bottom: 12px;
}

.MwFUy5xd8WudnG7EAPij {
  min-height: 600px;
}
.MwFUy5xd8WudnG7EAPij .CBVbXnhsokF46GNuG6Js {
  width: 90% !important;
  overflow: hidden;
}

.HQ2ScAoHZkTkWclueLEJ {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.pYsLeYIf1RP8DDDklIAc {
  margin-left: 4px;
  font-size: 12px;
}

.iavquIHxkK7LE0Ux0yjA {
  display: flex;
  flex-direction: row;
  height: 700px;
  width: 100%;
}
.iavquIHxkK7LE0Ux0yjA :first-child {
  margin-right: 16px;
}
.iavquIHxkK7LE0Ux0yjA .RW1dla496r72zIOx2VAL {
  display: flex;
  width: 100%;
}

`,"",{version:3,sources:["webpack://./../packages/ui/core/components/OntologyTreeFilter/index.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,WAAW;EACX,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,wBAAwB;EACxB,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,cAAc;AAChB;AACA;EACE,oBAAoB;AACtB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,cAAc;AAChB;AACA;EACE,cAAc;EACd,WAAW;AACb;AACA;EACE,gBAAgB;AAClB;AACA;EACE,aAAa;EACb,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;AACnB;AACA;EACE,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,aAAa;EACb,WAAW;AACb;AACA;EACE,kBAAkB;AACpB;AACA;EACE,aAAa;EACb,WAAW;AACb",sourcesContent:['.transfer div[class$=transfer-list] {\n  flex: 1 1 50%;\n  width: auto;\n  height: auto;\n  min-height: 600px;\n}\n.transfer div[class$=transfer-list] .highlight {\n  background-color: yellow;\n  display: inherit;\n}\n.transfer div[class$=transfer-list] div[class$=-list-body-customize-wrapper] {\n  height: 100%;\n}\n.transfer div[class$=transfer-list] div[class$=-list-body-customize-wrapper] div[class^=ant-spin-] {\n  height: 100%;\n}\n.transfer div[class$=transfer-list]:last-child div[class$=-list-body-search-wrapper] {\n  display: none;\n}\n.transfer li[class$=-list-content-item] span[class$=-list-content-item-text] {\n  flex: unset;\n}\n.transfer li[class$=-list-content-item] span[class$=-list-content-item-text]:before {\n  content: "";\n  display: block;\n}\n.transfer li[class$=-list-content-item] div[class$=-list-content-item-remove] {\n  color: var(--gray-8);\n}\n.transfer :global(.ant-tree-list-holder-inner) {\n  display: block !important;\n}\n.transfer :global(.ant-tree-treenode) {\n  width: 100%;\n}\n.transfer :global(.ant-tree-node-content-wrapper) {\n  width: 100%;\n  display: block;\n}\n.transfer :global(.ant-tree-title) {\n  display: block;\n  width: 100%;\n}\n.transfer .treeNodeParticipants {\n  min-width: 100px;\n}\n.transfer .treeNodeParticipants .treeNodeParticipantsCount {\n  display: flex;\n  justify-content: center;\n}\n.transfer .treeNodeHeader {\n  padding-right: 4px;\n  margin-bottom: 12px;\n}\n\n.modalWrapper {\n  min-height: 600px;\n}\n.modalWrapper .modal {\n  width: 90% !important;\n  overflow: hidden;\n}\n\n.treeNodeTitle {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n}\n\n.code {\n  margin-left: 4px;\n  font-size: 12px;\n}\n\n.loading {\n  display: flex;\n  flex-direction: row;\n  height: 700px;\n  width: 100%;\n}\n.loading :first-child {\n  margin-right: 16px;\n}\n.loading .skeleton {\n  display: flex;\n  width: 100%;\n}\n\n'],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={transfer:"My8KFbIaDWL6dbZehy13",highlight:"D161tNWnd3j6w2apZ6Ar",treeNodeParticipants:"SLDiyQLdmejlFGOc05cu",treeNodeParticipantsCount:"Tu0A8bb2BA5GdaOLMwn8",treeNodeHeader:"uQsmT5KF29BkVL1nllXR",modalWrapper:"MwFUy5xd8WudnG7EAPij",modal:"CBVbXnhsokF46GNuG6Js",treeNodeTitle:"HQ2ScAoHZkTkWclueLEJ",code:"pYsLeYIf1RP8DDDklIAc",loading:"iavquIHxkK7LE0Ux0yjA",skeleton:"RW1dla496r72zIOx2VAL"};let __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../packages/ui/core/components/OntologyTreeFilter/index.module.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleDomAPI.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertBySelector.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/insertStyleElement.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/style-loader/dist/runtime/styleTagTransform.js"),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=/*#__PURE__*/__webpack_require__.n(_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_8_use_1_index_module_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!../packages/ui/core/components/OntologyTreeFilter/index.module.css"),options={};options.styleTagTransform=_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default(),_storybook_node_modules_storybook_builder_webpack5_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_8_use_1_index_module_css__WEBPACK_IMPORTED_MODULE_6__.A,options);let __WEBPACK_DEFAULT_EXPORT__=_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_8_use_1_index_module_css__WEBPACK_IMPORTED_MODULE_6__.A&&_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_8_use_1_index_module_css__WEBPACK_IMPORTED_MODULE_6__.A.locals?_storybook_node_modules_storybook_builder_webpack5_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_8_use_1_index_module_css__WEBPACK_IMPORTED_MODULE_6__.A.locals:void 0},"../packages/ui/core/components/OntologyTreeFilter/OntologyTree.js":function(__unused_webpack_module,exports,__webpack_require__){function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var Status,Status1,__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.OntologyTree=exports.DEFAULT_ONTOLOGY_TREE_DICTIONARY=void 0;var react_1=__importStar(__webpack_require__("./node_modules/react/index.js")),icons_1=__webpack_require__("../packages/ui/node_modules/@ant-design/icons/es/index.js"),antd_1=__webpack_require__("../packages/ui/node_modules/antd/es/index.js"),lodash_1=__webpack_require__("../packages/ui/node_modules/lodash/lodash.js"),Empty_1=__importDefault(__webpack_require__("../packages/ui/core/components/Empty/index.js")),utils_1=__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/utils.js"),index_module_css_1=__importDefault(__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/index.module.css"));(Status=Status1||(Status1={}))[Status.PRISTINE=0]="PRISTINE",Status[Status.SEARCHING=1]="SEARCHING",exports.DEFAULT_ONTOLOGY_TREE_DICTIONARY={emptySelection:"Select items from the left-hand panel in order to add to your query.",matchingCount:function(count){return"".concat(count," matching items")},participantsCountTooltip:"Participants with this exact term",participantsWithExactTermTooltip:"Participants including descendant terms",searchPlaceholder:"Search for ontology term  - Min 3 characters",selectedCount:function(count){return"".concat(count," unique items")}},exports.OntologyTree=function(param){var data=param.data,_param_dictionary=param.dictionary,dictionary=void 0===_param_dictionary?exports.DEFAULT_ONTOLOGY_TREE_DICTIONARY:_param_dictionary,setTransferTargetKeys=param.setTransferTargetKeys,sqonTransferKeys=param.sqonTransferKeys,total=param.total,transferTargetKeys=param.transferTargetKeys,defaultTransferData=(0,utils_1.ontologyTreeToTransferData)(data),defaultTreeData=(0,utils_1.ontologyTreeDataToOntologyDataNode)(data),sqonValuesKeys=(0,utils_1.getKeysByTransferKeys)(defaultTreeData[0],sqonTransferKeys),sqonValuesChildrenKeys=(0,utils_1.getSqonKeysAndChildrenKeys)(defaultTreeData[0],sqonValuesKeys),_ref=_sliced_to_array((0,react_1.useState)((0,utils_1.disableNodesInTree)(defaultTreeData[0],sqonValuesChildrenKeys,sqonValuesKeys)),2),currentTreeData=_ref[0],setCurrentTreeData=_ref[1],rootNode=currentTreeData[0],_ref1=_sliced_to_array((0,react_1.useState)(rootNode?[rootNode.key]:[]),2),treeExpandedKeys=_ref1[0],setTreeExpandedKeys=_ref1[1],_ref2=_sliced_to_array((0,react_1.useState)(sqonValuesChildrenKeys),2),treeTargetKeys=_ref2[0],setTreeTargetKeys=_ref2[1],_ref3=_sliced_to_array((0,react_1.useState)(total),2),transferSelectedCount=_ref3[0],setTransferSelectedCount=_ref3[1],_ref4=_sliced_to_array((0,react_1.useState)(Status1.PRISTINE),2),status=_ref4[0],setStatus=_ref4[1],onSearch=(0,lodash_1.debounce)(function(_,value){var transferKeysNodepath=(0,utils_1.getKeysByTransferKeys)(currentTreeData[0],transferTargetKeys);if(value&&value.length>=3){var results=(0,utils_1.searchInOntologyTree)(defaultTreeData[0],value);setCurrentTreeData((0,utils_1.disableNodesInTree)(results.tree[0],treeTargetKeys,transferKeysNodepath)),setTreeExpandedKeys(results.keys),setTransferSelectedCount(results.selectedCount),setStatus(Status1.SEARCHING);return}setTreeExpandedKeys([rootNode.key]),setCurrentTreeData((0,utils_1.disableNodesInTree)(defaultTreeData[0],treeTargetKeys,transferKeysNodepath)),setTransferSelectedCount(total),setStatus(Status1.PRISTINE)},200),onTreeAction=function(node){var checked=!transferTargetKeys.some(function(key){return key===node.transferKey}),nodeChildrenTransferKeys=(0,utils_1.getChildrenTransferKeyByNode)(node),newTransferKeys=transferTargetKeys;checked?newTransferKeys.push(node.transferKey):newTransferKeys=newTransferKeys.filter(function(key){return key!=node.transferKey}),newTransferKeys=newTransferKeys.filter(function(key){return!nodeChildrenTransferKeys.includes(key)});var transferKeysNodepath=(0,utils_1.getKeysByTransferKeys)(currentTreeData[0],newTransferKeys),newTreeTargetKeys=(0,utils_1.filterChildrenKeysFromSelectedKeys)(transferKeysNodepath,node,checked),checkedPath=[];newTreeTargetKeys.forEach(function(key){checkedPath.push(key),(0,utils_1.getChildrenKeysByKey)(currentTreeData[0],key).forEach(function(childKey){checkedPath.push(childKey)})}),setCurrentTreeData((0,utils_1.disableNodesInTree)(rootNode,checkedPath,transferKeysNodepath)),setTreeTargetKeys(checkedPath),setTransferTargetKeys(newTransferKeys)};return react_1.default.createElement(antd_1.Transfer,{className:index_module_css_1.default.transfer,dataSource:defaultTransferData,locale:{notFoundContent:react_1.default.createElement(Empty_1.default,{description:dictionary.emptySelection,imageType:"grid"}),searchPlaceholder:dictionary.searchPlaceholder},onChange:function(newTargetKeys,_,moveKeys){var movedNodeKeys=(0,utils_1.getKeysByTransferKeys)(currentTreeData[0],[moveKeys[0]])[0],newTargetNodePath=(0,utils_1.getKeysByTransferKeys)(currentTreeData[0],newTargetKeys),selectedKeys=[movedNodeKeys].concat(_to_consumable_array((0,utils_1.getChildrenKeysByKey)(rootNode,movedNodeKeys)));setTransferTargetKeys(newTargetKeys);var filteredTreeTargetKeys=treeTargetKeys.filter(function(e){return!selectedKeys.includes(e)});setTreeTargetKeys(filteredTreeTargetKeys),setCurrentTreeData((0,utils_1.disableNodesInTree)(rootNode,filteredTreeTargetKeys,newTargetNodePath))},onSearch:onSearch,oneWay:!0,operationStyle:{visibility:"hidden",width:"5px"},render:function(item){return item.title},selectAllLabels:[function(_){return react_1.default.createElement(react_1.default.Fragment,null,status===Status1.PRISTINE&&(null==dictionary?void 0:dictionary.selectedCount)&&dictionary.selectedCount(transferSelectedCount),status===Status1.SEARCHING&&(null==dictionary?void 0:dictionary.matchingCount)&&dictionary.matchingCount(transferSelectedCount))}],showSearch:!(0,lodash_1.isEmpty)(defaultTreeData),showSelectAll:!1,targetKeys:transferTargetKeys},function(param){if("left"===param.direction)return(0,lodash_1.isEmpty)(currentTreeData)||0===transferSelectedCount?react_1.default.createElement(Empty_1.default,{imageType:"grid"}):react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Row,{className:index_module_css_1.default.treeNodeHeader,justify:"space-between"},react_1.default.createElement(antd_1.Col,null),react_1.default.createElement(antd_1.Col,null,react_1.default.createElement(antd_1.Row,{className:index_module_css_1.default.treeNodeParticipants},react_1.default.createElement(antd_1.Col,{className:index_module_css_1.default.treeNodeParticipantsCount,span:12},react_1.default.createElement(antd_1.Tooltip,{title:dictionary.participantsWithExactTermTooltip},react_1.default.createElement(icons_1.UserOutlined,null))),react_1.default.createElement(antd_1.Col,{className:index_module_css_1.default.treeNodeParticipantsCount,span:12},react_1.default.createElement(antd_1.Tooltip,{title:dictionary.participantsCountTooltip},react_1.default.createElement(icons_1.BranchesOutlined,null)))))),react_1.default.createElement(antd_1.Tree,{checkable:!0,checkedKeys:treeTargetKeys,expandedKeys:treeExpandedKeys,height:600,multiple:!0,onCheck:function(checked,e){onTreeAction(e.node)},onExpand:function(keys){return setTreeExpandedKeys(keys)},onSelect:function(selected,e){onTreeAction(e.node)},selectedKeys:[],treeData:currentTreeData}))})},exports.default=exports.OntologyTree},"../packages/ui/core/components/OntologyTreeFilter/OntologyTreeTitle.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.findOccurenceIndex=void 0;var react_1=__importDefault(__webpack_require__("./node_modules/react/index.js")),antd_1=__webpack_require__("../packages/ui/node_modules/antd/es/index.js"),utils_1=__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/utils.js"),index_module_css_1=__importDefault(__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/index.module.css"));exports.findOccurenceIndex=function(name,query){var index=name.toLowerCase().indexOf(query.toLowerCase());return -1==index&&(index=(0,utils_1.cleanNodeKey)(name).toLowerCase().indexOf(query.toLowerCase())),index};var SearchResultTreeTitle=function(param){var name=param.name,query=param.query,nameLeftParenthesis=name.indexOf("("),queryLeftParenthesis=query.indexOf("(");-1==queryLeftParenthesis&&")"===query.slice(-1)&&(query=query.substring(0,query.length-1));var firstIndex=(0,exports.findOccurenceIndex)(name,query),lastIndex=firstIndex+query.length,beforeText=name.substring(0,firstIndex),termText=name.substring(firstIndex,lastIndex),afterText=name.substring(lastIndex);if(-1!=queryLeftParenthesis){var termTextTitle=termText.substring(0,termText.indexOf("(")),termTextCode=termText.substring(termText.indexOf("("));return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Typography.Text,null,beforeText,react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termTextTitle)),react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termTextCode),afterText))}if(query.toLowerCase().startsWith(utils_1.HP_CODE)||query.toLowerCase().startsWith(utils_1.MONDO_CODE)){var termTextTitle1=name.substring(0,nameLeftParenthesis);return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Typography.Text,null,termTextTitle1),react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},"(",react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termText),afterText))}if(lastIndex>nameLeftParenthesis){var code=name.substring(nameLeftParenthesis),queryCodeIndex=code.toLowerCase().indexOf(query.toLowerCase());if(-1!=queryCodeIndex){var beforeTextCode=code.slice(0,queryCodeIndex),termTextCode1=code.replace(beforeTextCode,"").slice(0,query.length),termTextTitle2=name.slice(0,name.indexOf("("));return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Typography.Text,null,termTextTitle2),react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},beforeTextCode,react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termTextCode1),afterText))}lastIndex+=1;var termText1=name.substring(firstIndex,lastIndex);afterText=afterText.slice(1);var termTextCode2=termText1.slice(nameLeftParenthesis-lastIndex),termTextTitle3=termText1.slice(0,termText1.indexOf("("));return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Typography.Text,null,beforeText,react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termTextTitle3)),react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termTextCode2),afterText))}var termTextCode3=name.substring(nameLeftParenthesis);return afterText=afterText.replace(termTextCode3,""),react_1.default.createElement(antd_1.Typography.Text,null,beforeText,react_1.default.createElement("div",{className:index_module_css_1.default.highlight},termText),afterText,react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},termTextCode3))};exports.default=function(param){var name=param.name,participantsCount=param.participantsCount,participantsWithExactTerm=param.participantsWithExactTerm,searchTerm=param.searchTerm,_ref=(0,utils_1.extractCodeAndTitle)(name),code=_ref.code,title=_ref.title;return react_1.default.createElement("div",{className:index_module_css_1.default.treeNodeTitle},react_1.default.createElement("div",null,searchTerm?react_1.default.createElement(SearchResultTreeTitle,{name:name,query:searchTerm.query}):react_1.default.createElement(react_1.default.Fragment,null,title,react_1.default.createElement(antd_1.Typography.Text,{className:index_module_css_1.default.code,type:"secondary"},code))),react_1.default.createElement("div",{className:index_module_css_1.default.treeNodeParticipants},react_1.default.createElement(antd_1.Row,null,react_1.default.createElement(antd_1.Col,{className:index_module_css_1.default.treeNodeParticipantsCount,md:12},react_1.default.createElement(antd_1.Tag,null,participantsWithExactTerm)),react_1.default.createElement(antd_1.Col,{className:index_module_css_1.default.treeNodeParticipantsCount,md:12},react_1.default.createElement(antd_1.Tag,null,participantsCount)))))}},"../packages/ui/core/components/OntologyTreeFilter/index.js":function(__unused_webpack_module,exports,__webpack_require__){function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_ONTOLOGY_TREE_MODAL_DICTIONARY=void 0;var react_1=__importStar(__webpack_require__("./node_modules/react/index.js")),antd_1=__webpack_require__("../packages/ui/node_modules/antd/es/index.js"),lodash_1=__webpack_require__("../packages/ui/node_modules/lodash/lodash.js"),operators_1=__webpack_require__("../packages/ui/core/data/sqon/operators.js"),Empty_1=__importDefault(__webpack_require__("../packages/ui/core/components/Empty/index.js")),OntologyTree_1=__importStar(__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/OntologyTree.js")),utils_1=__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/utils.js"),index_module_css_1=__importDefault(__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/index.module.css"));exports.DEFAULT_ONTOLOGY_TREE_MODAL_DICTIONARY={allOf:"All of",anyOf:"Any of",cancelText:"Cancel",noneOf:"None of",okText:"Apply",title:"Observed Phenotype (HPO) Browser",tree:OntologyTree_1.DEFAULT_ONTOLOGY_TREE_DICTIONARY},exports.default=function(param){var _a,data=param.data,_param_dictionary=param.dictionary,dictionary=void 0===_param_dictionary?exports.DEFAULT_ONTOLOGY_TREE_MODAL_DICTIONARY:_param_dictionary,field=param.field,handleCancel=param.handleCancel,handleOnApply=param.handleOnApply,loading=param.loading,open=param.open,sqon=param.sqon,newOntologyData=(0,utils_1.legacyToNewOntologyTreeData)(data),sqonTransferKeys=(0,utils_1.getSqonTransferKeys)(newOntologyData,sqon,field),_ref=_sliced_to_array((0,react_1.useState)(sqonTransferKeys),2),transferTargetKeys=_ref[0],setTransferTargetKeys=_ref[1];return(0,react_1.useEffect)(function(){setTransferTargetKeys((0,utils_1.getSqonTransferKeys)(newOntologyData,sqon,field))},[sqon]),react_1.default.createElement(antd_1.Modal,{className:index_module_css_1.default.modal,destroyOnClose:!0,footer:[react_1.default.createElement(antd_1.Space,{key:"tree-modal-actions"},react_1.default.createElement(antd_1.Button,{onClick:handleCancel},null==dictionary?void 0:dictionary.cancelText),react_1.default.createElement(antd_1.Dropdown.Button,{menu:{items:[{key:operators_1.TermOperators.in,label:dictionary.anyOf},{key:operators_1.TermOperators.all,label:dictionary.allOf},{key:operators_1.TermOperators["some-not-in"],label:dictionary.noneOf}],onClick:function(e){return handleOnApply((0,utils_1.rebuildTransferTargetKeys)(transferTargetKeys),e.key)}},onClick:function(){return handleOnApply((0,utils_1.rebuildTransferTargetKeys)(transferTargetKeys),operators_1.TermOperators.in)},type:"primary"},dictionary.okText))],onCancel:function(e){e.stopPropagation(),handleCancel()},open:open,title:dictionary.title,wrapClassName:index_module_css_1.default.modalWrapper},loading&&react_1.default.createElement("div",{className:index_module_css_1.default.loading},react_1.default.createElement("div",{className:index_module_css_1.default.skeleton},react_1.default.createElement(antd_1.Skeleton,{active:!0,paragraph:{rows:20},title:!0})),react_1.default.createElement("div",{className:index_module_css_1.default.skeleton},react_1.default.createElement(antd_1.Skeleton,{active:!0,paragraph:{rows:20},title:!0}))),!loading&&(0,lodash_1.isEmpty)(data)&&react_1.default.createElement("div",{className:index_module_css_1.default.loading},react_1.default.createElement(Empty_1.default,{imageType:"grid"})),!loading&&!(0,lodash_1.isEmpty)(data)&&react_1.default.createElement(OntologyTree_1.default,{data:newOntologyData,dictionary:dictionary.tree,setTransferTargetKeys:setTransferTargetKeys,sqonTransferKeys:sqonTransferKeys,total:data.length-1,transferTargetKeys:transferTargetKeys}))}},"../packages/ui/core/components/OntologyTreeFilter/utils.js":function(__unused_webpack_module,exports,__webpack_require__){function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSqonKeysAndChildrenKeys=exports.getSqonTransferKeys=exports.rebuildNodeKey=exports.cleanNodeKey=exports.extractCodeAndTitle=exports.rebuildTransferTargetKeys=exports.filterChildrenKeysFromSelectedKeys=exports.getChildrenKeysByKey=exports.getKeysByTransferKeys=exports.getChildrenTransferKeyByNode=exports.getChildrenKeysByNode=exports.disableNodesInTree=exports.searchInOntologyTree=exports.ontologyTreeToTransferData=exports.ontologyTreeDataToOntologyDataNode=exports.legacyToNewOntologyTreeData=exports.SEPARATOR=exports.ROOT_NODE_CODE=exports.MONDO_CODE=exports.HP_CODE=exports.CODE_PREFIX_REGEX=exports.CODE_REGEX=exports.TITLE_AND_CODE_REGEX=exports.MATCH_SPECIAL_CHARACTERS_REGEX=exports.EXCLUDED_KEYS=void 0;var react_1=__importDefault(__webpack_require__("./node_modules/react/index.js")),utils_1=__webpack_require__("../packages/ui/core/data/sqon/utils.js"),OntologyTreeTitle_1=__importDefault(__webpack_require__("../packages/ui/core/components/OntologyTreeFilter/OntologyTreeTitle.js"));exports.EXCLUDED_KEYS=["(MONDO:0042489)","(HP:0000001)"],exports.MATCH_SPECIAL_CHARACTERS_REGEX=/[\\^$*+?.()|[\]{}]/g,exports.TITLE_AND_CODE_REGEX=/^(.+?)\s*(\([Mondo:|HP:][^)]+\))/gi,exports.CODE_REGEX=/(MONDO:|HP:)/g,exports.CODE_PREFIX_REGEX=/(MONDO|HP)/gi,exports.HP_CODE="hp:",exports.MONDO_CODE="mondo:",exports.ROOT_NODE_CODE=/(MONDO:0000001|HP:0000118)/g,exports.SEPARATOR="//",exports.legacyToNewOntologyTreeData=function(data){var result=[];return data.forEach(function(parent){if(!exports.EXCLUDED_KEYS.some(function(excludedKey){return parent.key.includes(excludedKey)})){var children=[];data.forEach(function(child){child.top_hits.parents.includes(parent.key)&&children.push(child.key)}),result.push({doc_count:parent.doc_count,filter_by_term:parent.filter_by_term,key:parent.key,top_hits:{children:children,parents:parent.top_hits.parents}})}}),result},exports.ontologyTreeDataToOntologyDataNode=function(data){var _a,_b,_c,rootOntologyNode=data.find(function(node){return -1!=node.key.search(exports.ROOT_NODE_CODE)});if(!rootOntologyNode)return[];var recursiveNodeCreate=function(node,parentNodePath){var result=[];return node.top_hits.children.forEach(function(key){var _a,_b,_c,child=data.find(function(e){return e.key===key});if(child){var participantsCount=null!==(_a=child.doc_count)&&void 0!==_a?_a:0,participantsWithExactTerm=null!==(_c=null===(_b=child.filter_by_term)||void 0===_b?void 0:_b.doc_count)&&void 0!==_c?_c:0,nodePath=parentNodePath.length>0?(0,exports.cleanNodeKey)("".concat(parentNodePath).concat(exports.SEPARATOR).concat(child.key)):(0,exports.cleanNodeKey)(child.key);result.push({children:recursiveNodeCreate(child,nodePath),key:nodePath,name:child.key,participantsCount:participantsCount,participantsWithExactTerm:participantsWithExactTerm,path:null!=parentNodePath?parentNodePath:"",title:react_1.default.createElement(OntologyTreeTitle_1.default,{name:child.key,participantsCount:participantsCount,participantsWithExactTerm:participantsWithExactTerm}),transferKey:(0,exports.cleanNodeKey)(child.key)})}}),result},participantsCount=null!==(_a=rootOntologyNode.doc_count)&&void 0!==_a?_a:0,participantsWithExactTerm=null!==(_c=null===(_b=rootOntologyNode.filter_by_term)||void 0===_b?void 0:_b.doc_count)&&void 0!==_c?_c:0;return[{children:recursiveNodeCreate(rootOntologyNode,(0,exports.cleanNodeKey)(rootOntologyNode.key)),key:(0,exports.cleanNodeKey)(rootOntologyNode.key),name:rootOntologyNode.key,participantsCount:participantsCount,participantsWithExactTerm:participantsWithExactTerm,path:"",title:react_1.default.createElement(OntologyTreeTitle_1.default,{name:rootOntologyNode.key,participantsCount:participantsCount,participantsWithExactTerm:participantsWithExactTerm}),transferKey:(0,exports.cleanNodeKey)(rootOntologyNode.key)}]},exports.ontologyTreeToTransferData=function(data){var rootOntologyNode=data.find(function(node){return -1!=node.key.search(exports.ROOT_NODE_CODE)});if(!rootOntologyNode)return[];var transferData=[],recursive=function(node){return node.top_hits.children.forEach(function(key){var child=data.find(function(e){return e.key===key});if(child){var formattedKey=(0,exports.cleanNodeKey)(child.key);transferData.some(function(item){return item.key==formattedKey})||transferData.push({key:formattedKey,title:child.key}),recursive(child)}}),[]};return recursive(rootOntologyNode),transferData.push({key:(0,exports.cleanNodeKey)(rootOntologyNode.key),title:rootOntologyNode.key}),transferData},exports.searchInOntologyTree=function(rootNode,query){var cleanSearchText=query.replace(exports.MATCH_SPECIAL_CHARACTERS_REGEX,"").replace(/\s+/g,"\\s*"),searchRegex=RegExp("(\\b\\w*"+cleanSearchText.split(" ").join("\\s*\\w*")+"\\w*\\b)","gi"),keys=[],tree=[],allNodeKeys=[],matchingAll=[],matchingNodePaths=[],matchingNodes=[],matchingExact=0,recursiveSearch=function(node){var results=[];return allNodeKeys.push(node.key),node.children.forEach(function(child){child.key.search(searchRegex)>=0&&(keys.push(child.key),matchingNodes.push(child.key)),results.push(Object.assign(Object.assign({},child),{children:recursiveSearch(child)}))}),results},recursiveIndexSearch=function(node){var results=[];return allNodeKeys.push(node.key),node.children.forEach(function(child){var _split=_sliced_to_array((0,exports.cleanNodeKey)(child.name).split(searchRegex),3),before=_split[0],term=_split[1],after=_split[2];term&&(matchingExact+=1),results.push(Object.assign(Object.assign({},child),{children:recursiveIndexSearch(child),hasSearchTerm:matchingAll.includes(child.key),title:react_1.default.createElement(OntologyTreeTitle_1.default,{name:child.name,participantsCount:child.participantsCount,participantsWithExactTerm:child.participantsWithExactTerm,searchTerm:term?{after:after,before:before,query:query,regex:cleanSearchText,term:term}:void 0})}))}),results.filter(function(result){return result.hasSearchTerm})};if(recursiveSearch(rootNode),matchingNodes.forEach(function(nodeKey){var nodePaths=nodeKey.split(exports.SEPARATOR);nodePaths.pop();var currentNodePaths=[];nodePaths.forEach(function(path){currentNodePaths.push(path);var nodePath=currentNodePaths.join(exports.SEPARATOR);if(!matchingNodePaths.includes(nodePath)){var result=allNodeKeys.find(function(node){return node===nodePath});!result||matchingNodePaths.includes(result)||keys.includes(result)||(matchingNodePaths.push(result),keys.push(result))}})}),0===(matchingAll=matchingNodes.concat(matchingNodePaths)).length)return{keys:[],selectedCount:0,tree:[rootNode]};var _rootNode_name_split=_sliced_to_array(rootNode.name.split(searchRegex),3),before=_rootNode_name_split[0],term=_rootNode_name_split[1],after=_rootNode_name_split[2];return tree.push(Object.assign(Object.assign({},rootNode),{children:recursiveIndexSearch(rootNode),title:react_1.default.createElement(OntologyTreeTitle_1.default,{name:rootNode.name,participantsCount:rootNode.participantsCount,participantsWithExactTerm:rootNode.participantsWithExactTerm,searchTerm:term?{after:after,before:before,query:query,regex:cleanSearchText,term:term}:void 0})})),{keys:keys,selectedCount:matchingExact,tree:tree}},exports.disableNodesInTree=function(rootNode,disabledKeys,enabledKeys){if(!rootNode)return[];var recursive=function(node){var results=[];return node.children.forEach(function(child){if(disabledKeys.includes(child.key)&&!enabledKeys.includes(child.key)){results.push(Object.assign(Object.assign({},child),{children:recursive(child),disableCheckbox:!0,disabled:!0}));return}results.push(Object.assign(Object.assign({},child),{children:recursive(child),disableCheckbox:!1,disabled:!1}))}),results};return[Object.assign(Object.assign({},rootNode),{children:recursive(rootNode)})]},exports.getChildrenKeysByNode=function(node){if(!node)return[];var keys=[],recursive=function(node){keys.push(node.key),node.children.forEach(function(child){recursive(child)})};return node.children.forEach(function(child){recursive(child)}),keys},exports.getChildrenTransferKeyByNode=function(node){if(!node)return[];var transferKeys=[],recursive=function(node){transferKeys.push(node.transferKey),node.children.forEach(function(child){recursive(child)})};return node.children.forEach(function(child){recursive(child)}),transferKeys},exports.getKeysByTransferKeys=function(rootNode,transferKeys){if(!rootNode)return[];var result=[],recursive=function(node){transferKeys.includes(node.transferKey)&&result.push(node.key),node.children.forEach(function(child){recursive(child)})};return transferKeys.includes(rootNode.transferKey)&&result.push(rootNode.key),rootNode.children.forEach(function(child){recursive(child)}),result},exports.getChildrenKeysByKey=function(rootNode,key){if(!rootNode)return[];if(rootNode.key===key)return(0,exports.getChildrenKeysByNode)(rootNode);var targetNode,result=[],recursive=function(node){if(node.key===key){targetNode=node,result=(0,exports.getChildrenKeysByNode)(targetNode);return}targetNode||0!==result.length||node.children.forEach(function(child){recursive(child)})};return rootNode.children.forEach(function(child){recursive(child)}),result},exports.filterChildrenKeysFromSelectedKeys=function(keys,node,checked){if(checked)return keys;var childrenKeys=(0,exports.getChildrenKeysByNode)(node),keysToRemove=[];return keys.forEach(function(key){childrenKeys.includes(key)&&keysToRemove.push(key)}),keys.filter(function(key){return!keysToRemove.includes(key)})},exports.rebuildTransferTargetKeys=function(keys){return keys.map(function(key){return(0,exports.rebuildNodeKey)(key)})},exports.extractCodeAndTitle=function(value){var result=value.split(exports.TITLE_AND_CODE_REGEX).filter(function(v){return v.length>0});return{code:result[1],title:result[0]}},exports.cleanNodeKey=function(key){return key.replaceAll(exports.MATCH_SPECIAL_CHARACTERS_REGEX,"")},exports.rebuildNodeKey=function(key){var codeIndex=key.search(exports.CODE_REGEX);return"".concat(key.slice(0,codeIndex),"(").concat(key.slice(codeIndex),")")},exports.getSqonTransferKeys=function(data,sqon,field){var _a;return(null!==(_a=(0,utils_1.findSqonValueByField)("".concat(field,".name"),sqon))&&void 0!==_a?_a:[]).map(function(transferKey){return(0,exports.cleanNodeKey)(transferKey)})},exports.getSqonKeysAndChildrenKeys=function(rootNode,sqonKeys){var result=[];return sqonKeys.forEach(function(key){result.push(key),(0,exports.getChildrenKeysByKey)(rootNode,key).forEach(function(childrenKey){result.push(childrenKey)})}),result}}}]);
//# sourceMappingURL=Components-OntologyTreeModal-OntologyTreeModal-stories.6246f95a.iframe.bundle.js.map