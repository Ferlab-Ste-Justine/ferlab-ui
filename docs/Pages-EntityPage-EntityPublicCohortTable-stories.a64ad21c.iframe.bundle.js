"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[6658],{"./stories/Pages/EntityPage/EntityPublicCohortTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BasicEntityPublicCohortTable:()=>BasicEntityPublicCohortTable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _ferlab_ui_core_common_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../packages/ui/core/common/constants.js"),_ferlab_ui_core_pages_EntityPage_EntityPublicCohortTable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../packages/ui/core/pages/EntityPage/EntityPublicCohortTable/index.js"),_ferlab_ui_core_pages_EntityPage_EntityPublicCohortTable__WEBPACK_IMPORTED_MODULE_1___default=/*#__PURE__*/__webpack_require__.n(_ferlab_ui_core_pages_EntityPage_EntityPublicCohortTable__WEBPACK_IMPORTED_MODULE_1__),_ferlab_ui_core_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../packages/ui/core/utils/numberUtils.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=_object_without_properties_loose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}let __WEBPACK_DEFAULT_EXPORT__={title:"@ferlab/Pages/EntityPage/EntityPublicCohortTable",component:_ferlab_ui_core_pages_EntityPage_EntityPublicCohortTable__WEBPACK_IMPORTED_MODULE_1___default(),decorators:[function(Story){return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,Story),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))}]};var BasicEntityPublicCohortTable=(function(_param){var storyTitle=_param.storyTitle,props=_object_without_properties(_param,["storyTitle"]);return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,storyTitle),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ferlab_ui_core_pages_EntityPage_EntityPublicCohortTable__WEBPACK_IMPORTED_MODULE_1___default(),props))}).bind({});BasicEntityPublicCohortTable.args={bordered:!0,columns:[{dataIndex:"cohort",key:"cohort",render:function(cohort){return cohort.link?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:cohort.link,rel:"noopener noreferrer",target:"_blank"},cohort.cohortName):cohort.cohortName},title:"Cohort"},{dataIndex:"alt",key:"alt",render:function(alt){return alt?"number"==typeof alt?(0,_ferlab_ui_core_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.numberWithCommas)(alt):alt:_ferlab_ui_core_common_constants__WEBPACK_IMPORTED_MODULE_2__.TABLE_EMPTY_PLACE_HOLDER},title:"ALT Alleles",tooltip:"Number of alternative alleles"},{dataIndex:"altRef",key:"altRef",render:function(altRef){return altRef?"number"==typeof altRef?(0,_ferlab_ui_core_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.numberWithCommas)(altRef):altRef:_ferlab_ui_core_common_constants__WEBPACK_IMPORTED_MODULE_2__.TABLE_EMPTY_PLACE_HOLDER},title:"Alleles (ALT + REF)",tooltip:"Alternative alleles + Reference alleles"},{dataIndex:"homozygotes",key:"homozygotes",render:function(homozygotes){return homozygotes?"number"==typeof homozygotes?(0,_ferlab_ui_core_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.numberWithCommas)(homozygotes):homozygotes:_ferlab_ui_core_common_constants__WEBPACK_IMPORTED_MODULE_2__.TABLE_EMPTY_PLACE_HOLDER},title:"Homozygotes",tooltip:"Number of homozygote variants"},{dataIndex:"frequency",key:"frequency",render:function(frequency){return frequency||_ferlab_ui_core_common_constants__WEBPACK_IMPORTED_MODULE_2__.TABLE_EMPTY_PLACE_HOLDER},title:"Frequency"}],frequencies:{topmed_bravo:{ac:28645,af:.228123,an:125568,hom:3811,het:21023},gnomad_exomes_2_1_1:{ac:59311,af:.23611254866678874,an:251198,hom:8416},gnomad_genomes_2_1_1:{ac:6178,af:.19711569140450513,an:31342,hom:730},gnomad_genomes_3:{ac:32856,af:.21622,an:151956,hom:4159},thousand_genomes:null},locus:"1-152350656-G-T",header:"Public Cohorts",id:"",loading:!1,emptyMessage:"No data available"},BasicEntityPublicCohortTable.parameters={...BasicEntityPublicCohortTable.parameters,docs:{...BasicEntityPublicCohortTable.parameters?.docs,source:{originalSource:"({\n  storyTitle,\n  ...props\n}: {\n  storyTitle: string;\n  props: IEntityPublicCohortTable;\n}) => <>\n        <h3>{storyTitle}</h3>\n        <EntityPublicCohortTable {...props} />\n    </>",...BasicEntityPublicCohortTable.parameters?.docs?.source}}};let __namedExportsOrder=["BasicEntityPublicCohortTable"]},"../packages/ui/core/common/constants.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.TABLE_EMPTY_PLACE_HOLDER=void 0,exports.TABLE_EMPTY_PLACE_HOLDER="-"},"../packages/ui/core/pages/EntityPage/EntityPublicCohortTable/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EntityPublicCohortTable=void 0;var react_1=__importDefault(__webpack_require__("./node_modules/react/index.js")),EntityTable_1=__importDefault(__webpack_require__("../packages/ui/core/pages/EntityPage/EntityTable/index.js")),frequencies_1=__webpack_require__("../packages/ui/core/pages/EntityPage/utils/frequencies.js");exports.EntityPublicCohortTable=function(_a){var columns=_a.columns,frequencies=_a.frequencies,header=_a.header,id=_a.id,loading=_a.loading,locus=_a.locus,tableProps=__rest(_a,["columns","frequencies","header","id","loading","locus"]),externalCohortsRows=(0,frequencies_1.makeRowFromFrequencies)(frequencies,locus),hasEmptyCohorts=(0,frequencies_1.isExternalCohortsTableEmpty)(externalCohortsRows);return!loading&&hasEmptyCohorts&&(externalCohortsRows=[]),react_1.default.createElement(EntityTable_1.default,Object.assign({},tableProps,{columns:columns,data:externalCohortsRows,header:header,id:id,loading:loading}))},exports.default=exports.EntityPublicCohortTable},"../packages/ui/core/pages/EntityPage/utils/frequencies.js":function(__unused_webpack_module,exports,__webpack_require__){var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isExternalCohortsTableEmpty=exports.makeRowFromFrequencies=void 0;var numberUtils_1=__webpack_require__("../packages/ui/core/utils/numberUtils.js");exports.makeRowFromFrequencies=function(frequencies,locus){if(!frequencies||!locus)return[];var topmed=frequencies.topmed_bravo||{},gnomadGenomes3=frequencies.gnomad_genomes_3||{},gnomadGenomes2_1_1=frequencies.gnomad_genomes_2_1_1||{},gnomadExomes2_1_1=frequencies.gnomad_exomes_2_1_1||{},thousandGenomes=frequencies.thousand_genomes||{};return[{alt:topmed.ac||null,altRef:topmed.an||null,cohort:{cohortName:"TopMed",link:"https://bravo.sph.umich.edu/freeze8/hg38/variant/snv/".concat(locus)},frequency:(0,numberUtils_1.toExponentialNotation)(topmed.af),homozygotes:topmed.hom||null,key:"topmed"},{alt:gnomadGenomes3.ac||null,altRef:gnomadGenomes3.an||null,cohort:{cohortName:"gnomAD Genomes (v3.1.2)",link:"https://gnomad.broadinstitute.org/variant/".concat(locus,"?dataset=gnomad_r3")},frequency:(0,numberUtils_1.toExponentialNotation)(gnomadGenomes3.af),homozygotes:gnomadGenomes3.hom||null,key:"gnomadGenomes3"},{alt:gnomadGenomes2_1_1.ac||null,altRef:gnomadGenomes2_1_1.an||null,cohort:{cohortName:"gnomAD Genomes (v2.1)"},frequency:(0,numberUtils_1.toExponentialNotation)(gnomadGenomes2_1_1.af),homozygotes:gnomadGenomes2_1_1.hom||null,key:"gnomadGenomes2_1"},{alt:gnomadExomes2_1_1.ac||null,altRef:gnomadExomes2_1_1.an||null,cohort:{cohortName:"gnomAD Exomes (v2.1)"},frequency:(0,numberUtils_1.toExponentialNotation)(gnomadExomes2_1_1.af),homozygotes:gnomadExomes2_1_1.hom||null,key:"gnomadExomes2_1"},{alt:thousandGenomes.ac||null,altRef:thousandGenomes.an||null,cohort:{cohortName:"1000 Genomes"},frequency:(0,numberUtils_1.toExponentialNotation)(thousandGenomes.af),homozygotes:thousandGenomes.hom||null,key:"oneThousandsGenomes"}]},exports.isExternalCohortsTableEmpty=function(rows){return rows.every(function(_a){return _a.cohort,_a.key,!Object.values(__rest(_a,["cohort","key"])).some(function(e){return e})})}},"../packages/ui/core/utils/numberUtils.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatQuotientOrElse=exports.formatQuotientToExponentialOrElse=exports.canQuotientBeComputed=exports.toExponentialNotation=exports.numberWithCommas=exports.numberFormat=exports.getDefaultDigits=void 0;var VALUE_SYMBOLE_LIST=[{symbol:"K",value:1e3},{symbol:"M",value:1e6},{symbol:"G",value:1e9},{symbol:"T",value:1e12},{symbol:"P",value:1e15},{symbol:"E",value:1e18}],BLACK_LIST_LENGTH=[1,2,3,4],NUM_FORMAT_REGEX=/\.0+$|(\.[0-9]*[1-9])0+$/;exports.getDefaultDigits=function(num){switch(num.toString().length){case 5:case 7:return 1;default:return 0}},exports.numberFormat=function(num){var index,digits=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!num)return 0;var locale="fr"===localStorage.getItem("locale")?"fr-CA":"en-US";return(digits=digits||(0,exports.getDefaultDigits)(num),BLACK_LIST_LENGTH.includes(num.toString().length))?num.toLocaleString(locale):(VALUE_SYMBOLE_LIST.forEach(function(si,i){if(num>=si.value)return index=i,!1}),(num/VALUE_SYMBOLE_LIST[index].value).toFixed(digits).replace(NUM_FORMAT_REGEX,"$1")+VALUE_SYMBOLE_LIST[index].symbol)},exports.numberWithCommas=function(number){return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},exports.toExponentialNotation=function(numberCandidate){var fractionDigits=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return numberCandidate?numberCandidate.toExponential(fractionDigits):""},exports.canQuotientBeComputed=function(num,denum){return!isNaN(num)&&!isNaN(denum)&&0!==denum},exports.formatQuotientToExponentialOrElse=function(num,denum){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,exports.canQuotientBeComputed)(num,denum)?"".concat((0,exports.toExponentialNotation)(num/denum)):defaultValue},exports.formatQuotientOrElse=function(num,denum){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,exports.canQuotientBeComputed)(num,denum)?"".concat(num," / ").concat(denum):defaultValue}}}]);